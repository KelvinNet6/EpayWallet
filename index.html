<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EasyPay App</title>
    <link rel="stylesheet" href="styles.css">
     <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.0"></script>
</head>
<body>
    <button class="menu-btn" id="menu-btn">â˜°</button>

    <div class="sidebar" id="sidebar">
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="/transfer">Transfer</a></li>
            <li><a href="/withdraw">Withdraw</a></li>
            <li><a href="/transactions">Transactions</a></li>
            <li><a href="/Account-Settings">Account Settings</a></li>
            <li><button id="logout-btn">Logout</button></li>
        </ul>
    </div>

    <div class="main-content" id="home">
        <header class="header">
            <h1>Your Logged Into EasyPay Wallet</h1>
        </header>
        
        <section class="account-info">
            <div class="account-details">
                <h2>Account Holder Name: Kelvin Kadzenje</h2>
                <br>
                <p>Account Number: 460006759</p>
                <br>
                <p>Available Balance: 5000000000000</p>
            </div>
        </section>
        
        <section class="transaction-history">
            <h3>Recent Transactions</h3>
            <div class="transactions">
                <div class="transaction-item">
                    <span class="type">PaySheet</span>
                    <span class="amount">k500</span>
                    <span class="date">02/05/2025</span>
                </div>
                <div class="transaction-item">
                    <span class="type">EasyTransfer</span>
                    <span class="amount">K200</span>
                    <span class="date">01/29/2025</span>
                </div>
                <div class="transaction-item">
                    <span class="type">EasyWithdraw</span>
                    <span class="amount">K50</span>
                    <span class="date">01/25/2025</span>
                </div>
            </div>
        </section>
        
        <br><br>
        <!-- New Section with Background Video -->
        <section class="video-container">
            <div class="video-overlay">
                <h2>EasyPay Wallet</h2>
                <p>Providing Easy Access to Personal Finances</p>
            </div>
            <video autoplay muted loop playsinline class="background-video">
                <source src="853984-hd_1920_1080_25fps.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </section>

        <!-- New Section for Transaction Graph -->
        <section class="transaction-graph">
            <h3>Transaction Trends</h3>
             <canvas id="transactionChart" width="400" height="200"></canvas>
        </section>
    </div>

    <script src="app.js"></script>
    <script>
        // Toggle Sidebar for Mobile
        document.getElementById("menu-btn").addEventListener("click", () => {
            const sidebar = document.getElementById("sidebar");
            sidebar.classList.toggle("active");
        });

        // Logout functionality
        document.getElementById("logout-btn").addEventListener("click", () => {
            localStorage.removeItem('authToken');
            window.location.href = "/login";
        });

        // Dark/Light Mode Toggle
        const modeToggleBtn = document.getElementById("mode-toggle-btn");
        modeToggleBtn.addEventListener("click", () => {
            document.body.classList.toggle("dark-mode");

            // Toggle the icon for day/night
            if (document.body.classList.contains("dark-mode")) {
                modeToggleBtn.textContent = "ðŸŒž"; // Sun icon for light mode
            } else {
                modeToggleBtn.textContent = "ðŸŒ™"; // Moon icon for dark mode
            }
        });

   window.addEventListener('load', function() {
    // Log to check that the script is working
    console.log("Page loaded, creating chart...");

    // Get the canvas element
    const canvas = document.getElementById('transactionChart');
    
    // Force width and height of the canvas
    canvas.width = 400; // Set width of the canvas
    canvas.height = 200; // Set height of the canvas

    // Get the context to draw on the canvas
    const ctx = canvas.getContext('2d');

    // Initialize Chart.js
    const transactionChart = new Chart(ctx, {
        type: 'line', // Type of chart (line chart in this case)
        data: {
            labels: ['01/25/2025', '01/29/2025', '02/05/2025'], // Transaction dates
            datasets: [{
                label: 'Transaction Amount (K)',
                data: [50, 200, 500], // Transaction amounts
                borderColor: 'rgba(75, 192, 192, 1)', // Color of the line
                backgroundColor: 'rgba(75, 192, 192, 0.2)', // Background color under the line
                fill: true, // Fill the area under the line
            }]
        },
        options: {
            responsive: true,
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });
});
    </script>
</body>
</html>
